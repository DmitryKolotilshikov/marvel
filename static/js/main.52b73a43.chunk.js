(this["webpackJsonpmarvel-react"]=this["webpackJsonpmarvel-react"]||[]).push([[0],{15:function(e,t,c){e.exports={header:"Header_header__1-dep",list:"Header_list__1xIUN",list__item:"Header_list__item__3_g9T",active:"Header_active__1CH59",active__links:"Header_active__links__1_I7M",character__favorite:"Header_character__favorite__1eGsq"}},16:function(e,t,c){e.exports={character__list:"CharactersList_character__list__11iU-",character__item:"CharactersList_character__item__2qsCH",character__name:"CharactersList_character__name__3hubC",character__img:"CharactersList_character__img__1SxYP",no__results:"CharactersList_no__results__1tTxu",character__favorite:"CharactersList_character__favorite__1wrF6"}},20:function(e,t,c){e.exports={character__list:"FavoriteItem_character__list__xcg1w",character__item:"FavoriteItem_character__item__2j2kL",character__name:"FavoriteItem_character__name__3JIWD",character__img:"FavoriteItem_character__img__zs4Ak",character__favorite:"FavoriteItem_character__favorite__epWv6"}},24:function(e,t,c){e.exports={comics__item:"ComicsItem_comics__item__1kVFt",comics__name:"ComicsItem_comics__name__YbW_r",comics__img:"ComicsItem_comics__img__1-P42",comics__favorite:"ComicsItem_comics__favorite__ZOuCU"}},25:function(e,t,c){e.exports={form__wrapper:"Select_form__wrapper__hdVbS",select:"Select_select__3UzHJ",select__title:"Select_select__title__2k1O4",select__button:"Select_select__button__14taX"}},26:function(e,t,c){e.exports={button:"Button_button__2s7p9",long:"Button_long__2qK_-"}},29:function(e,t,c){e.exports={favorites__wrapper:"Favorites_favorites__wrapper__2955T",no__results:"Favorites_no__results__Yt04J"}},30:function(e,t,c){e.exports={error__container:"ErrorPage_error__container__QjqMz",error__title:"ErrorPage_error__title__QfzyP",error__gif:"ErrorPage_error__gif__39kGy"}},31:function(e,t,c){e.exports={comics__container:"ComicsList_comics__container__3o_mj",comics__track:"ComicsList_comics__track__2v4US",no__results:"ComicsList_no__results__aUbUG"}},36:function(e,t,c){e.exports={welcome:"Welcome_welcome__3_ytB",welcome__title:"Welcome_welcome__title__2dNH3"}},49:function(e,t,c){e.exports={footer:"Footer_footer__2U8cz"}},52:function(e,t,c){e.exports={lds_ripple:"Loader_lds_ripple__3OWhl"}},53:function(e,t,c){e.exports={comics__wrapper:"Comics_comics__wrapper__2Vu7C"}},54:function(e,t,c){e.exports={input:"Input_input__nSTeB"}},55:function(e,t,c){e.exports={characters__wrapper:"Characters_characters__wrapper__3Hr6h"}},65:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(27),s=c.n(n),i=c(21),o=c(7),u=c(19),_=c(47),l=c(48),j=c(5),m="ADD_COMICS_TO_FAVORITE",b="REMOVE_COMICS_FROM_FAVORITE",f="ADD_CHARACTER_TO_FAVORITE",O="REMOVE_CHARACTER_FROM_FAVORITE",h="FETCH_CHARACTERS_START",d="FETCH_COMICS_START",p=function(e,t){var c=Object(j.a)({},e);return t.forEach((function(e){return c.hasOwnProperty(e)?delete c[e]:null})),c},v=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):{}},x=function(e,t){localStorage.setItem(e,JSON.stringify(t))},g=v("comics"),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:case m:return Object(j.a)(Object(j.a)({},e),t.payload);case b:return p(e,t.payload);default:return e}},y=v("characters"),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case f:return Object(j.a)(Object(j.a)({},e),t.payload);case O:return p(e,t.payload);default:return e}},S=Object(u.combineReducers)({comicsReducer:C,characterReducer:N}),w=Object(u.createStore)(S,Object(_.composeWithDevTools)(Object(u.applyMiddleware)(l.a)));w.subscribe((function(){x("characters",w.getState().characterReducer),x("comics",w.getState().comicsReducer)}));var R=w,k=(c(65),c(4)),E=c(15),I=c.n(E),F=c.p+"static/media/favoriteFill.7f83d76a.svg",A=c(1),T=function(){var e=Object(o.c)((function(e){return e.comicsReducer})),t=Object(o.c)((function(e){return e.characterReducer})),c=Object.values(e).length||Object.values(t).length;return Object(A.jsx)("header",{className:I.a.header,children:Object(A.jsx)("nav",{children:Object(A.jsx)("ul",{className:I.a.list,children:[{to:"/",label:"Marvel App",exact:!0},{to:"/characters",label:"Characters",exact:!1},{to:"/comics",label:"Comics",exact:!1},{to:"/favorites",label:"Favorites",exact:!1}].map((function(e,t){return Object(A.jsx)("li",{className:I.a.list__item,children:Object(A.jsxs)(i.b,{to:e.to,exact:e.exact,activeClassName:e.exact?I.a.active:I.a.active__links,children:[e.label,c&&"Favorites"===e.label?Object(A.jsx)("img",{src:F,alt:"icon-favorite",className:I.a.character__favorite}):null]})},t)}))})})})},H=c(49),L=c.n(H),B=function(){return Object(A.jsx)("div",{className:L.a.footer,children:Object(A.jsx)("span",{children:"\xa9 \u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041a\u043e\u043b\u043e\u0442\u0438\u043b\u044c\u0449\u0438\u043a\u043e\u0432"})})},Y=function(e){var t=e.children;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(T,{}),Object(A.jsx)("main",{children:t}),Object(A.jsx)(B,{})]})},M=c(3),U=c(14),W=c(20),D=c.n(W),V=c.p+"static/media/favoriteFill.7f83d76a.svg",J=c.p+"static/media/favoriteEmpty.138bf58e.svg",P=function(e){var t=e.items,c=e.removeItem,a=Object(r.useState)([]),n=Object(M.a)(a,2),s=n[0],i=n[1],o=Object(r.useRef)([]);return Object(A.jsx)("ul",{className:D.a.character__list,children:t.map((function(e,t){var r=e.id,a=e.title,n=e.img;return Object(A.jsxs)("li",{className:D.a.character__item,children:[Object(A.jsx)("h3",{className:D.a.character__name,children:a}),Object(A.jsx)("img",{src:n,alt:"favorite-img",className:D.a.character__img,style:s.includes(r)?{opacity:.3}:{opacity:1}}),Object(A.jsx)("img",{src:s.includes(r)?J:V,alt:"icon-favorite",className:D.a.character__favorite,onClick:function(){!function(e){if(s.includes(e)){var t=Object(U.a)(s).filter((function(t){return t!==e}));i(t),o.current=Object(U.a)(o.current).filter((function(t){return t!==e})),c(o.current)}else i([].concat(Object(U.a)(s),[e])),o.current=[].concat(Object(U.a)(o.current),[e]),c(o.current)}(r)}})]},a+t)}))})},z=c(6),q=c.n(z),X=c(13),G="263d445b3cc168b3e21b32796258a5d0",K="comics",Q="characters",Z=function(e){return{type:m,payload:e}},$=function(e){return{type:b,payload:e}},ee=function(e){return{type:f,payload:e}},te=function(e){return{type:O,payload:e}},ce=c(29),re=c.n(ce),ae=function(){var e=Object(r.useState)([]),t=Object(M.a)(e,2),c=t[0],a=t[1],n=Object(r.useState)([]),s=Object(M.a)(n,2),i=s[0],u=s[1],_=Object(r.useRef)([]),l=Object(r.useRef)([]),m=Object(o.c)((function(e){return e.comicsReducer})),b=Object(o.c)((function(e){return e.characterReducer})),f=Object(o.b)();Object(r.useEffect)((function(){var e=Object.entries(m),t=Object.entries(b),c=e.map((function(e){return Object(j.a)({id:e[0]},e[1])})),r=t.map((function(e){return Object(j.a)({id:e[0]},e[1])}));return a(c),u(r),function(){_.current.length&&f($(_.current)),l.current.length&&f(te(l.current))}}),[m,b,f]);return Object(A.jsxs)("div",{className:re.a.favorites__wrapper,children:[Object(A.jsx)("h2",{children:"Favorite Characters"}),Object(A.jsx)("hr",{}),i.length?Object(A.jsx)(P,{items:i,removeItem:function(e){l.current=e}}):Object(A.jsx)("h3",{className:re.a.no__results,children:"No favorites characters..."}),Object(A.jsx)("h2",{children:"Favorite Comics"}),Object(A.jsx)("hr",{}),c.length?Object(A.jsx)(P,{items:c,removeItem:function(e){_.current=e}}):Object(A.jsx)("h3",{className:re.a.no__results,children:"No favorites comics..."})]})},ne=c(50),se=c.n(ne),ie=c(51),oe=c.n(ie),ue=Date.now(),_e=oe()(ue+"7aa71442fa583f5354b3a47c92c58a7171557dfb"+G),le=se.a.create({baseURL:"https://gateway.marvel.com/v1/public/",params:{ts:ue,apikey:G,hash:_e,limit:30}}),je=function(){var e=Object(X.a)(q.a.mark((function e(t){var c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.get(t);case 3:if("Ok"===(c=e.sent).data.status){e.next=7;break}return console.log("Cannot receive data (response status no OK): ",c.data.status),e.abrupt("return",!1);case 7:return e.abrupt("return",c.data.data.results);case 10:return e.prev=10,e.t0=e.catch(0),console.log("Cannot receive data: ",e.t0.message),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),me=c(30),be=c.n(me),fe=function(){return Object(A.jsxs)("div",{className:be.a.error__container,children:[Object(A.jsx)("h2",{className:be.a.error__title,children:"We cannot display data, see to console.log!"}),Object(A.jsx)("div",{className:be.a.error__gif})]})},Oe=function(e){return function(t){var c=Object(r.useState)(null),a=Object(M.a)(c,2),n=a[0],s=a[1];return Object(A.jsx)(A.Fragment,{children:n?Object(A.jsx)(fe,{}):Object(A.jsx)(e,Object(j.a)({setErrorApi:s},t))})}},he=c(52),de=c.n(he),pe=function(){return Object(A.jsx)("div",{children:Object(A.jsxs)("div",{className:de.a.lds_ripple,children:[Object(A.jsx)("div",{}),Object(A.jsx)("div",{})]})})},ve=c(18),xe=c.p+"static/media/favoriteFill.7f83d76a.svg",ge=c.p+"static/media/favoriteEmpty.138bf58e.svg",Ce=c(24),ye=c.n(Ce),Ne=function(e){var t=e.comics,c=e.setImgWidth,a=Object(r.useRef)(0),n=Object(o.c)((function(e){return e.comicsReducer})),s=Object(o.b)();return Object(r.useEffect)((function(){var e=Number.parseInt(getComputedStyle(a.current).width,10);return c(e+100),function(){a.current=0}}),[]),Object(A.jsx)(A.Fragment,{children:t.map((function(e,t){var c=e.id,r=e.title,i=e.path,o=e.extension;if(-1===i.lastIndexOf("image_not_available")){var u="".concat(i,"/").concat("portrait_uncanny",".").concat(o);return Object(A.jsxs)("div",{className:ye.a.comics__item,children:[Object(A.jsx)("h3",{className:ye.a.comics__name,children:r}),Object(A.jsx)("img",{src:u,alt:"img_comics",className:ye.a.comics__img,ref:a}),Object(A.jsx)("img",{src:n[c]?xe:ge,onClick:function(){return function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];var r=t[0],a=t[1],i=t[2];if(n[r])s($([r]));else{var o=Object(ve.a)({},r,{title:a,img:i});s(Z(o))}}(c,r,u)},alt:"icon-favorite",className:ye.a.comics__favorite})]},r+t)}return null}))})},Se=c(25),we=c.n(Se),Re=function(e){var t=e.formHandler,c=e.comicsYear,r=e.setComicsYear,a=e.yearList;return Object(A.jsxs)("form",{onSubmit:function(e){return t(e)},className:we.a.form__wrapper,children:[Object(A.jsx)("span",{className:we.a.select__title,children:"choose year"}),Object(A.jsx)("select",{value:c,onChange:function(e){return r(e.target.value)},className:we.a.select,children:a.map((function(e,t){return Object(A.jsx)("option",{value:e,children:e},t+1)}))}),Object(A.jsx)("input",{type:"submit",value:"search",className:we.a.select__button})]})},ke=c(26),Ee=c.n(ke),Ie=[Ee.a.button],Fe=function(e){var t=e.onClick,c=e.disabled,r=e.nameBtn,a=e.long,n=e.nameAtr;return a&&!Ie.includes(Ee.a.long)&&Ie.push(Ee.a.long),Object(A.jsx)("button",{className:a?Ie.join(" "):Ee.a.button,onClick:t,disabled:c,type:"button",name:n||null,children:r})},Ae=c(31),Te=c.n(Ae),He=[2021,2020,2019,2018,2017],Le=function(e){var t=e.comics,c=e.setYearHandler,a=e.customYear,n=e.setCustomYear,s=Object(r.useRef)(null),i=Object(r.useRef)(0),o=Object(r.useState)(!0),u=Object(M.a)(o,2),_=u[0],l=u[1],j=Object(r.useState)(!1),m=Object(M.a)(j,2),b=m[0],f=m[1],O=Object(r.useState)("".concat(He[0])),h=Object(M.a)(O,2),d=h[0],p=h[1],v=Object(r.useState)(null),x=Object(M.a)(v,2),g=x[0],C=x[1];return Object(r.useEffect)((function(){a&&(i.current=0,s.current.style.transform="translateX(".concat(i.current,"px)"),l(!0))}),[a]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Re,{formHandler:function(e){e.preventDefault(),c(d),n(!1)},comicsYear:d,setComicsYear:p,yearList:He}),Object(A.jsx)("div",{className:Te.a.comics__container,children:Object(A.jsx)("div",{className:Te.a.comics__track,ref:s,children:t.length?Object(A.jsx)(Ne,{comics:t,setImgWidth:C}):Object(A.jsx)("h3",{className:Te.a.no__results,children:"NO RESULTS..."})})}),Object(A.jsx)(Fe,{nameBtn:"prev",long:!0,onClick:function(){return i.current>0&&(i.current-=g,f(!1),s.current.style.transform="translateX(".concat(-i.current,"px)")),void(0===i.current&&l(!0))},disabled:_}),Object(A.jsx)(Fe,{nameBtn:"next",long:!0,onClick:function(){return Number.parseInt(getComputedStyle(s.current).width,10)-i.current===2*g&&f(!0),i.current+=g,l(!1),void(s.current.style.transform="translateX(".concat(-i.current,"px)"))},disabled:b})]})},Be=c(53),Ye=c.n(Be),Me="".concat(K,"?").concat("startYear"),Ue=Oe((function(e){var t=e.setErrorApi,c=Object(r.useState)(null),a=Object(M.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(!0),o=Object(M.a)(i,2),u=o[0],_=o[1],l=Object(r.useState)(null),j=Object(M.a)(l,2),m=j[0],b=j[1],f=Object(r.useState)(!1),O=Object(M.a)(f,2),h=O[0],d=O[1],p=Object(r.useRef)(!1),v=function(){var e=Object(X.a)(q.a.mark((function e(c){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(c);case 2:(r=e.sent)?(a=r.map((function(e){var t=e.id,c=e.title,r=e.thumbnail;return{id:t,title:c,path:r.path,extension:r.extension}})),p.current||(s(a),_(!1),t(!1))):t(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(p.current=!1,m){var e="".concat(Me,"=").concat(m);d(!0),v(e)}else v(K);return function(){p.current=!0}}),[m]);return Object(A.jsx)("section",{className:Ye.a.comics__wrapper,children:u?Object(A.jsx)(pe,{}):Object(A.jsx)(Le,{comics:n,setYearHandler:function(e){b(e)},customYear:h,setCustomYear:d})})})),We=c.p+"static/media/favoriteEmpty.138bf58e.svg",De=c.p+"static/media/favoriteFill.7f83d76a.svg",Ve=c(16),Je=c.n(Ve),Pe=function(e){var t=e.character,c=Object(o.c)((function(e){return e.characterReducer})),r=Object(o.b)();return Object(A.jsx)("ul",{className:Je.a.character__list,children:t.length?t.map((function(e,t){var a=e.id,n=e.name,s=e.path,i=e.extension;if(-1===s.lastIndexOf("image_not_available")){var o="".concat(s,"/").concat("standard_fantastic",".").concat(i);return Object(A.jsxs)("li",{className:Je.a.character__item,children:[Object(A.jsx)("h3",{className:Je.a.character__name,children:n}),Object(A.jsx)("img",{src:o,alt:"",className:Je.a.character__img}),Object(A.jsx)("img",{src:c[a]?De:We,alt:"icon-favorite",className:Je.a.character__favorite,onClick:function(){!function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t[0],s=t[1],i=t[2];if(c[n])r(te([n]));else{var o=Object(ve.a)({},n,{title:s,img:i});r(ee(o))}}(a,n,o)}})]},n+t)}return null})):Object(A.jsx)("h3",{className:Je.a.no__results,children:"NO RESULTS..."})})},ze=c(54),qe=c.n(ze),Xe=function(e){var t=e.searchName,c=e.onkeydown,a=e.isSubmitted,n=Object(r.useState)(""),s=Object(M.a)(n,2),i=s[0],o=s[1];return Object(A.jsx)("input",{type:"text",autoFocus:!0,placeholder:"type name of the characters",value:a?"":i,className:qe.a.input,onChange:function(e){return c=e.target.value,o(c),void t(c);var c},onKeyDown:function(e){"Enter"===e.key&&c()}})},Ge=c(55),Ke=c.n(Ge),Qe="".concat(Q,"?").concat("nameStartsWith"),Ze="".concat(Q,"?").concat("offset"),$e=Oe((function(e){var t=e.setErrorApi,c=Object(r.useState)(null),a=Object(M.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(!0),o=Object(M.a)(i,2),u=o[0],_=o[1],l=Object(r.useState)(!1),j=Object(M.a)(l,2),m=j[0],b=j[1],f=Object(r.useState)(""),O=Object(M.a)(f,2),h=O[0],d=O[1],p=Object(r.useState)(0),v=Object(M.a)(p,2),x=v[0],g=v[1],C=Object(r.useState)(!0),y=Object(M.a)(C,2),N=y[0],S=y[1],w=Object(r.useState)(!1),R=Object(M.a)(w,2),k=R[0],E=R[1],I=Object(r.useRef)(!1),F="",T=function(){var e=Object(X.a)(q.a.mark((function e(c){var r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(c);case 2:(r=e.sent)?(a=r.map((function(e){var t=e.id,c=e.name,r=e.thumbnail;return{id:t,name:c,path:r.path,extension:r.extension}})),I.current||(s(a),_(!1),t(!1))):t(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(I.current=!1,h){var e="".concat(Qe,"=").concat(h);T(e),g(0),E(!0)}else{var t="".concat(Ze,"=").concat(x);T(t),E(!1)}return function(){S(!0),I.current=!0}}),[h,x]);var H=function(){var e,t=(e=n,Object(U.a)(e).sort((function(e,t){return e.name>t.name?1:-1})));s(t),S(!N)},L=function(){var e,t=(e=n,Object(U.a)(e).sort((function(e,t){return e.name<t.name?1:-1})));s(t),S(!N)},B=function(e){d(e),F="",b(!0)};return Object(A.jsxs)("section",{className:Ke.a.characters__wrapper,children:[Object(A.jsx)(Xe,{searchName:function(e){return function(e){F=e,b(!1)}(e)},onkeydown:function(){F&&B(F)},isSubmitted:m}),Object(A.jsx)(Fe,{nameBtn:"search by name",nameAtr:"SearchByName",onClick:function(){return B(F)},disabled:u}),Object(A.jsx)("hr",{}),Object(A.jsx)(Fe,{nameBtn:"sort by",nameAtr:"sortBy",onClick:function(){return H()},disabled:u||N}),Object(A.jsx)(Fe,{nameBtn:"sort out",nameAtr:"sortOut",onClick:function(){return L()},disabled:u||!N}),Object(A.jsx)(Fe,{nameBtn:"prev",nameAtr:"prevCharacter",onClick:function(){return 0!==x&&g(x-30),S(!0),void _(!0)},disabled:u||!x}),Object(A.jsx)(Fe,{nameBtn:"next",nameAtr:"nextCharacter",onClick:function(){return x<1493&&g(x+30),S(!0),void _(!0)},disabled:u||k}),u?Object(A.jsx)(pe,{}):Object(A.jsx)(Pe,{character:n})]})})),et=c(36),tt=c.n(et),ct=function(){return Object(A.jsx)("div",{className:tt.a.welcome,children:Object(A.jsxs)("h1",{className:tt.a.welcome__title,children:["The",Object(A.jsx)("span",{children:" Marvel "}),"Universe welcomes you!"]})})};var rt=function(){return Object(A.jsx)(Y,{children:Object(A.jsxs)(k.d,{children:[Object(A.jsx)(k.b,{path:"/characters",component:$e}),Object(A.jsx)(k.b,{path:"/comics",component:Ue}),Object(A.jsx)(k.b,{path:"/favorites",component:ae}),Object(A.jsx)(k.b,{path:"/",exact:!0,component:ct}),Object(A.jsx)(k.a,{to:"/"})]})})};c(92);s.a.render(Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(i.a,{basename:"/marvel/",children:Object(A.jsx)(o.a,{store:R,children:Object(A.jsx)(rt,{})})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.52b73a43.chunk.js.map